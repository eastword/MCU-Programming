;====================================================================
; Main.asm file generated by New Project wizard
;
; Created:   Sun Jul 26 2020
; Processor: 80C52
; Compiler:  ASEM-51 (Proteus)
;====================================================================

$NOMOD51
$INCLUDE (80C52.MCU)

;====================================================================
; DEFINITIONS
;====================================================================

;====================================================================
; VARIABLES
;====================================================================

;====================================================================
; RESET and INTERRUPT VECTORS
;====================================================================

      ; Reset Vector
      org   0000h
      jmp   Start
      ORG   0003H
      JMP   extern_0_isr

   

;====================================================================
; CODE SEGMENT
;====================================================================

      org   0100h

extern_0_isr:  

            MOV A, R7
            JZ  led_on
            MOV P2, #00H
            MOV R7, #00H
            JMP exit_entry

led_on:
            MOV  P2, #01H
            MOV R7, #01H
            JMP exit_entry


exit_entry:
          RETI

Start:	
      ; Write your code here
       MOV R7,#01H
       SETB  EA
       SETB  EX0
       SETB  IT0


Loop:	
      jmp Loop

;====================================================================
      END
